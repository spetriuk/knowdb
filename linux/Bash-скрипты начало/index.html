
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.1">
    
    
      
        <title>Bash скрипты начало - KnowDB</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.9299cb39.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#bash-" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="KnowDB" class="md-header__button md-logo" aria-label="KnowDB" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            KnowDB
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Bash скрипты начало
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue" type="radio" name="__palette" id="__palette_1">
          <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5z"/></svg>
          </label>
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="light-blue" data-md-color-accent="cyan" type="radio" name="__palette" id="__palette_2">
          <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1z"/></svg>
          </label>
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="KnowDB" class="md-nav__button md-logo" aria-label="KnowDB" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    KnowDB
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Algorithms
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Algorithms" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Algorithms
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../algorithms/B-Tree.%201.%20Introduction/" class="md-nav__link">
        B Tree. 1. Introduction
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../algorithms/B-Tree.%202.%20Insert%20Operation/" class="md-nav__link">
        B Tree. 2. Insert Operation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../algorithms/B-Tree.%203.%20Delete%20Operation/" class="md-nav__link">
        B Tree. 3. Delete Operation
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Docker
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Docker" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Docker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/Keycloak%20Docker/" class="md-nav__link">
        Keycloak Docker
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/Mongodb%20Docker/" class="md-nav__link">
        Mongodb Docker
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/PgAdmin%204%20docker/" class="md-nav__link">
        PgAdmin 4 docker
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/PostgreSQL%20Docker/" class="md-nav__link">
        PostgreSQL Docker
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Git
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Git" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Git
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../git/Create%20Empty%20Branch%20in%20Git/" class="md-nav__link">
        Create Empty Branch in Git
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../git/Delete%20branch%20local_remote/" class="md-nav__link">
        Delete branch local remote
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../git/%D0%81%D0%B1%D0%B0%D0%BD%D1%8B%D0%B9%20Git%21%21%21/" class="md-nav__link">
        Ёбаный Git!!!
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../git/%D0%9A%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D0%B0%20Git%20stash.%20%D0%9A%D0%B0%D0%BA%20%D0%BF%D1%80%D1%8F%D1%82%D0%B0%D1%82%D1%8C%20%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F%20%D0%B2%20Git/" class="md-nav__link">
        Команда Git stash. Как прятать изменения в Git
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Java
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Java" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Java
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../java/%40Before%20%40BeforeClass%20%40BeforeEach%20%40BeforeAll/" class="md-nav__link">
        @Before @BeforeClass @BeforeEach @BeforeAll
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../java/Access%20value%20in%20application.properties%20Spring%20Boot/" class="md-nav__link">
        Access value in application.properties Spring Boot
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../java/Change%20the%20Default%20Port%20in%20Spring%20Boot/" class="md-nav__link">
        Change the Default Port in Spring Boot
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../java/Export%20%26%20Download%20Data%20as%20CSV%20File%20in%20Spring%20Boot/" class="md-nav__link">
        Export & Download Data as CSV File in Spring Boot
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../java/Integration%20Testing%20in%20Spring%20_%20Baeldung/" class="md-nav__link">
        Integration Testing in Spring   Baeldung
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../java/Java%20Stream%20API/" class="md-nav__link">
        Java Stream API
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../java/Modularizing%20a%20Spring%20Boot%20Application/" class="md-nav__link">
        Modularizing a Spring Boot Application
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../java/Spring%20REST%20Error%20Handling%20Example/" class="md-nav__link">
        Spring REST Error Handling Example
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../java/Spring%20Security%20Keycloak%20Spring%20Boot/" class="md-nav__link">
        Spring Security Keycloak Spring Boot
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../java/Uploading%20and%20Parsing%20CSV%20File%20using%20Spring%20Boot/" class="md-nav__link">
        Uploading and Parsing CSV File using Spring Boot
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../java/%D0%AE%D0%BD%D0%B8%D1%82-%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B4%D0%BB%D1%8F%20%D1%87%D0%B0%D0%B9%D0%BD%D0%B8%D0%BA%D0%BE%D0%B2/" class="md-nav__link">
        Юнит тестирование для чайников
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Kafka
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Kafka" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Kafka
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../kafka/Kafka%20local%20cluster%20run/" class="md-nav__link">
        Kafka local cluster run
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../kafka/KafkaTemplate/" class="md-nav__link">
        KafkaTemplate
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../kafka/Setting%20Up%20Kafka/" class="md-nav__link">
        Setting Up Kafka
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" checked>
      
      <label class="md-nav__link" for="__nav_7">
        Linux
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Linux" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../AppImage%20Repack/" class="md-nav__link">
        AppImage Repack
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Bash%20read%20Command/" class="md-nav__link">
        Bash read Command
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Bash%20remove%20recursive%20by%20extension/" class="md-nav__link">
        Bash remove recursive by extension
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Bash скрипты начало
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Bash скрипты начало
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bash-_1" class="md-nav__link">
    Как устроены bash-скрипты
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    Установка разрешений для файла сценария
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    Вывод сообщений
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    Использование переменных
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    Переменные среды
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    Пользовательские переменные
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    Подстановка команд
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    Математические операции
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#if-then" class="md-nav__link">
    Управляющая конструкция if-then
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#if-then-else" class="md-nav__link">
    Управляющая конструкция if-then-else
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    Сравнение чисел
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    Сравнение строк
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    Проверки файлов
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    Итоги
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Bash_%20Write%20to%20File/" class="md-nav__link">
        Bash  Write to File
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Cinnamon%20theme%20switch%20script/" class="md-nav__link">
        Cinnamon theme switch script
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GTK%203.16%20Fix%20Large%20Black%20Borders%20Around%20Windows/" class="md-nav__link">
        GTK 3.16 Fix Large Black Borders Around Windows
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Grep%20%D0%BF%D0%BE%D0%B8%D1%81%D0%BA%20%D0%B2%D0%BD%D1%83%D1%82%D1%80%D0%B8%20%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2/" class="md-nav__link">
        Grep поиск внутри файлов
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Joplin%20Terminal/" class="md-nav__link">
        Joplin Terminal
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../KeePassXC%20with%20synchronization/" class="md-nav__link">
        KeePassXC with synchronization
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Kill%20process%20by%20used%20port%20Ubuntu/" class="md-nav__link">
        Kill process by used port Ubuntu
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Mosquitto/" class="md-nav__link">
        Mosquitto
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Mouse%20Buttons%20Bind%20To%20Keyboard%20Keys%20Or%20Commands/" class="md-nav__link">
        Mouse Buttons Bind To Keyboard Keys Or Commands
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Nemo%20add%20keyboard%20shortcuts/" class="md-nav__link">
        Nemo add keyboard shortcuts
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Nemo%20context%20menu%20action/" class="md-nav__link">
        Nemo context menu action
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Notifications%20with%20notify-send/" class="md-nav__link">
        Notifications with notify send
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../PDF%20create%20from%20images/" class="md-nav__link">
        PDF create from images
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../PDF%20file%20Compress/" class="md-nav__link">
        PDF file Compress
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Terminal%20set%20wrong%20sudo%20password%20message/" class="md-nav__link">
        Terminal set wrong sudo password message
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Thunderbird%20Tray%20Icon/" class="md-nav__link">
        Thunderbird Tray Icon
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D0%BC%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B4%D0%B8%D1%81%D0%BA%D0%B0/" class="md-nav__link">
        Автоматическое монтирование диска
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Mongodb
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Mongodb" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Mongodb
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../mongodb/MongoDB%20Cheat%20Sheet/" class="md-nav__link">
        MongoDB Cheat Sheet
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      <label class="md-nav__link" for="__nav_9">
        Windows
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Windows" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Windows
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../windows/%D0%9F%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%20ext4%20%D0%B2%20Windows/" class="md-nav__link">
        Подключение ext4 в Windows
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bash-_1" class="md-nav__link">
    Как устроены bash-скрипты
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    Установка разрешений для файла сценария
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    Вывод сообщений
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    Использование переменных
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    Переменные среды
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    Пользовательские переменные
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    Подстановка команд
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    Математические операции
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#if-then" class="md-nav__link">
    Управляющая конструкция if-then
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#if-then-else" class="md-nav__link">
    Управляющая конструкция if-then-else
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    Сравнение чисел
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    Сравнение строк
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    Проверки файлов
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    Итоги
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <p>Bash-скрипты начало</p>
<h1 id="bash-">Bash-скрипты: начало</h1>
<blockquote>
<p>Bash-скрипты: начало Bash-скрипты, часть 2: циклы Bash-скрипты, часть 3: параметры и ключи командной строки  Bash-скрипты, часть 4: ввод и вывод Bash-скрипты, ча...</p>
<p><a href="https://habrahabr.ru/company/ruvds/blog/325522/">Bash-скрипты: начало</a><br />
<a href="https://habrahabr.ru/company/ruvds/blog/325928/">Bash-скрипты, часть 2: циклы</a><br />
<a href="https://habrahabr.ru/company/ruvds/blog/326328/">Bash-скрипты, часть 3: параметры и ключи командной строки</a><br />
<a href="https://habrahabr.ru/company/ruvds/blog/326594/">Bash-скрипты, часть 4: ввод и вывод</a><br />
<a href="https://habrahabr.ru/company/ruvds/blog/326826/">Bash-скрипты, часть 5: сигналы, фоновые задачи, управление сценариями</a><br />
<a href="https://habrahabr.ru/company/ruvds/blog/327248/">Bash-скрипты, часть 6: функции и разработка библиотек</a><br />
<a href="https://habrahabr.ru/company/ruvds/blog/327530/">Bash-скрипты, часть 7: sed и обработка текстов</a><br />
<a href="https://habrahabr.ru/company/ruvds/blog/327754/">Bash-скрипты, часть 8: язык обработки данных awk</a><br />
<a href="https://habrahabr.ru/company/ruvds/blog/327896/">Bash-скрипты, часть 9: регулярные выражения</a><br />
<a href="https://habrahabr.ru/company/ruvds/blog/328346/">Bash-скрипты, часть 10: практические примеры</a><br />
<a href="https://habrahabr.ru/company/ruvds/blog/328436/">Bash-скрипты, часть 11: expect и автоматизация интерактивных утилит</a></p>
</blockquote>
<p>Сегодня поговорим о bash-скриптах. Это — <a href="https://ru.wikipedia.org/wiki/%D0%A1%D1%86%D0%B5%D0%BD%D0%B0%D1%80%D0%B8%D0%B9_%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D0%BD%D0%BE%D0%B9_%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B8">сценарии командной строки</a>, написанные для оболочки bash. Существуют и другие оболочки, например — zsh, tcsh, ksh, но мы сосредоточимся на bash. Этот материал предназначен для всех желающих, единственное условие — умение работать в <a href="https://likegeeks.com/main-linux-commands-easy-guide/">командной строке</a> Linux.</p>
<p><a href="https://habrahabr.ru/company/ruvds/blog/325522/"><img alt="" src="https://habrastorage.org/files/803/892/bfe/803892bfe548499aa763df324d40fd01.png" /></a>  </p>
<p>Сценарии командной строки — это наборы тех же самых команд, которые можно вводить с клавиатуры, собранные в файлы и объединённые некоей общей целью. При этом результаты работы команд могут представлять либо самостоятельную ценность, либо служить входными данными для других команд. Сценарии — это мощный способ автоматизации часто выполняемых действий.</p>
<p><a href="https://ruvds.com/ru-rub/#order"><img alt="" src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png" /></a></p>
<p>Итак, если говорить о командной строке, она позволяет выполнить несколько команд за один раз, введя их через точку с запятой:</p>
<div class="highlight"><pre><span></span><code>pwd ; whoami
</code></pre></div>
<p>На самом деле, если вы опробовали это в своём терминале, ваш первый bash-скрипт, в котором задействованы две команды, уже написан. Работает он так. Сначала команда <code>pwd</code> выводит на экран сведения о текущей рабочей директории, потом команда <code>whoami</code>показывает данные о пользователе, под которым вы вошли в систему.</p>
<p>Используя подобный подход, вы можете совмещать сколько угодно команд в одной строке, ограничение — лишь в максимальном количестве аргументов, которое можно передать программе. Определить это ограничение можно с помощью такой команды:</p>
<div class="highlight"><pre><span></span><code>getconf ARG_MAX
</code></pre></div>
<p>Командная строка — отличный инструмент, но команды в неё приходится вводить каждый раз, когда в них возникает необходимость. Что если записать набор команд в файл и просто вызывать этот файл для их выполнения? Собственно говоря, тот файл, о котором мы говорим, и называется сценарием командной строки.</p>
<h2 id="bash-_1">Как устроены bash-скрипты</h2>
<p>Создайте пустой файл с использованием команды <code>touch</code>. В его первой строке нужно указать, какую именно оболочку мы собираемся использовать. Нас интересует <code>bash</code>, поэтому первая строка файла будет такой:</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash
</code></pre></div>
<p>В других строках этого файла символ решётки используется для обозначения комментариев, которые оболочка не обрабатывает. Однако, первая строка — это особый случай, здесь решётка, за которой следует восклицательный знак (эту последовательность называют <a href="https://ru.wikipedia.org/wiki/%D0%A8%D0%B5%D0%B1%D0%B0%D0%BD%D0%B3_(Unix)">шебанг</a>) и путь к <code>bash</code>, указывают системе на то, что сценарий создан именно для <code>bash</code>.</p>
<p>Команды оболочки отделяются знаком перевода строки, комментарии выделяют знаком решётки. Вот как это выглядит:</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash

pwd
whoami
</code></pre></div>
<p>Тут, так же, как и в командной строке, можно записывать команды в одной строке, разделяя точкой с запятой. Однако, если писать команды на разных строках, файл легче читать. В любом случае оболочка их обработает.</p>
<h2 id="_1">Установка разрешений для файла сценария</h2>
<p>Сохраните файл, дав ему имя <code>myscript</code>, и работа по созданию bash-скрипта почти закончена. Сейчас осталось лишь сделать этот файл исполняемым, иначе, попытавшись его запустить, вы столкнётесь с ошибкой <code>Permission denied</code>.</p>
<p><img alt="" src="https://habrastorage.org/getpro/habr/post_images/29f/743/3ec/29f7433ec002900e7518396a814fe351.png" /></p>
<p><em>Попытка запуска файла сценария с неправильно настроенными разрешениями</em></p>
<p>Сделаем файл исполняемым:</p>
<div class="highlight"><pre><span></span><code>chmod +x ./myscript
</code></pre></div>
<p>Теперь попытаемся его выполнить:</p>
<div class="highlight"><pre><span></span><code>./myscript
</code></pre></div>
<p>После настройки разрешений всё работает как надо.</p>
<p><img alt="" src="https://habrastorage.org/getpro/habr/post_images/736/e67/1a5/736e671a5ff9a96e10bbb3c7e8ae537a.png" /></p>
<p><em>Успешный запуск bash-скрипта</em></p>
<h2 id="_2">Вывод сообщений</h2>
<p>Для вывода текста в консоль Linux применяется команда <code>echo</code>. Воспользуемся знанием этого факта и отредактируем наш скрипт, добавив пояснения к данным, которые выводят уже имеющиеся в нём команды:</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash

echo &quot;The current directory is:&quot;
pwd
echo &quot;The user logged in is:&quot;
whoami
</code></pre></div>
<p>Вот что получится после запуска обновлённого скрипта.</p>
<p><img alt="" src="https://habrastorage.org/getpro/habr/post_images/4d0/173/e3d/4d0173e3ddcad01d0790b6b98dd91315.png" /></p>
<p><em>Вывод сообщений из скрипта</em></p>
<p>Теперь мы можем выводить поясняющие надписи, используя команду <code>echo</code>. Если вы не знаете, как отредактировать файл, пользуясь средствами Linux, или раньше не встречались с командой <code>echo</code>, взгляните на <a href="https://likegeeks.com/basic-linux-commands-part2/">этот</a> материал.</p>
<h2 id="_3">Использование переменных</h2>
<p>Переменные позволяют хранить в файле сценария информацию, например — результаты работы команд для использования их другими командами.</p>
<p>Нет ничего плохого в исполнении отдельных команд без хранения результатов их работы, но возможности такого подхода весьма ограничены.</p>
<p>Существуют два типа переменных, которые можно использовать в bash-скриптах:</p>
<ul>
<li>Переменные среды</li>
<li>Пользовательские переменные</li>
</ul>
<h2 id="_4">Переменные среды</h2>
<p>Иногда в командах оболочки нужно работать с некими системными данными. Вот, например, как вывести домашнюю директорию текущего пользователя:</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash

echo &quot;Home for the current user is: $HOME&quot;
</code></pre></div>
<p>Обратите внимание на то, что мы можем использовать системную переменную <code>$HOME</code> в двойных кавычках, это не помешает системе её распознать. Вот что получится, если выполнить вышеприведённый сценарий.</p>
<p><img alt="" src="https://habrastorage.org/getpro/habr/post_images/da0/6b6/4a4/da06b64a489f6a8e16a3ca345f270f82.png" /></p>
<p><em>Использование переменной среды в сценарии</em></p>
<p>А что если надо вывести на экран значок доллара? Попробуем так:</p>
<div class="highlight"><pre><span></span><code>echo &quot;I have $1 in my pocket&quot;
</code></pre></div>
<p>Система обнаружит знак доллара в строке, ограниченной кавычками, и решит, что мы сослались на переменную. Скрипт попытается вывести на экран значение неопределённой переменной <code>$1</code>. Это не то, что нам нужно. Что делать?</p>
<p>В подобной ситуации поможет использование управляющего символа, обратной косой черты, перед знаком доллара:</p>
<div class="highlight"><pre><span></span><code>echo &quot;I have \$1 in my pocket&quot;
</code></pre></div>
<p>Теперь сценарий выведет именно то, что ожидается.</p>
<p><img alt="" src="https://habrastorage.org/getpro/habr/post_images/771/a8a/710/771a8a7102c7a25f1ecd1e739a00de6e.png" /></p>
<p><em>Использование управляющей последовательности для вывода знака доллара</em></p>
<h2 id="_5">Пользовательские переменные</h2>
<p>В дополнение к переменным среды, bash-скрипты позволяют задавать и использовать в сценарии собственные переменные. Подобные переменные хранят значение до тех пор, пока не завершится выполнение сценария.</p>
<p>Как и в случае с системными переменными, к пользовательским переменным можно обращаться, используя знак доллара:</p>
<p>TNW-CUS-FMP — промо-код на 10% скидку на наши услуги, доступен для активации в течение 7 дней</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash

grade=5
person=&quot;Adam&quot;
echo &quot;$person is a good boy, he is in grade $grade&quot;
</code></pre></div>
<p>Вот что получится после запуска такого сценария.</p>
<p><img alt="" src="https://habrastorage.org/getpro/habr/post_images/3a7/367/14c/3a736714c8f9db68ef8fce923b3cc5e5.png" /></p>
<p><em>Пользовательские переменные в сценарии</em></p>
<h2 id="_6">Подстановка команд</h2>
<p>Одна из самых полезных возможностей bash-скриптов — это возможность извлекать информацию из вывода команд и назначать её переменным, что позволяет использовать эту информацию где угодно в файле сценария.</p>
<p>Сделать это можно двумя способами.</p>
<ul>
<li>С помощью значка обратного апострофа «`»</li>
<li>С помощью конструкции <code>$()</code></li>
</ul>
<p>Используя первый подход, проследите за тем, чтобы вместо обратного апострофа не ввести одиночную кавычку. Команду нужно заключить в два таких значка:</p>
<div class="highlight"><pre><span></span><code>mydir=`pwd`
</code></pre></div>
<p>При втором подходе то же самое записывают так:</p>
<div class="highlight"><pre><span></span><code>mydir=$(pwd)
</code></pre></div>
<p>А скрипт, в итоге, может выглядеть так:</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash
mydir=$(pwd)
echo $mydir
</code></pre></div>
<p>В ходе его работы вывод команды <code>pwd</code>будет сохранён в переменной <code>mydir</code>, содержимое которой, с помощью команды <code>echo</code>, попадёт в консоль.</p>
<p><img alt="" src="https://habrastorage.org/getpro/habr/post_images/acc/127/fa3/acc127fa3826130cb82854c74d6fd5f4.png" /></p>
<p><em>Скрипт, сохраняющий результаты работы команды в переменной</em></p>
<h2 id="_7">Математические операции</h2>
<p>Для выполнения математических операций в файле скрипта можно использовать конструкцию вида <code>$((a+b))</code>:</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash
var1=$(( 5 + 5 ))
echo $var1
var2=$(( $var1 * 2 ))
echo $var2
</code></pre></div>
<p><img alt="" src="https://habrastorage.org/getpro/habr/post_images/a3c/9b0/3dc/a3c9b03dcc99367ba2e80f3695282154.png" /></p>
<p><em>Математические операции в сценарии</em></p>
<h2 id="if-then">Управляющая конструкция if-then</h2>
<p>В некоторых сценариях требуется управлять потоком исполнения команд. Например, если некое значение больше пяти, нужно выполнить одно действие, в противном случае — другое. Подобное применимо в очень многих ситуациях, и здесь нам поможет управляющая конструкция <code>if-then</code>. В наиболее простом виде она выглядит так:</p>
<div class="highlight"><pre><span></span><code>if команда
then
команды
fi
</code></pre></div>
<p>А вот рабочий пример:</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash
if pwd
then
echo &quot;It works&quot;
fi
</code></pre></div>
<p>В данном случае, если выполнение команды <code>pwd</code>завершится успешно, в консоль будет выведен текст «it works».</p>
<p>Воспользуемся имеющимися у нас знаниями и напишем более сложный сценарий. Скажем, надо найти некоего пользователя в <code>/etc/passwd</code>, и если найти его удалось, сообщить о том, что он существует.</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash
user=likegeeks
if grep $user /etc/passwd
then
echo &quot;The user $user Exists&quot;
fi
</code></pre></div>
<p>Вот что получается после запуска этого скрипта.</p>
<p><img alt="" src="https://habrastorage.org/getpro/habr/post_images/395/e17/65e/395e1765efb8d9b3fe1726240357dcc4.png" /></p>
<p><em>Поиск пользователя</em></p>
<p>Здесь мы воспользовались командой <code>grep</code>для поиска пользователя в файле <code>/etc/passwd</code>. Если команда <code>grep</code>вам незнакома, её описание можно найти <a href="https://likegeeks.com/main-linux-commands-easy-guide/">здесь</a>.</p>
<p>В этом примере, если пользователь найден, скрипт выведет соответствующее сообщение. А если найти пользователя не удалось? В данном случае скрипт просто завершит выполнение, ничего нам не сообщив. Хотелось бы, чтобы он сказал нам и об этом, поэтому усовершенствуем код.</p>
<h2 id="if-then-else">Управляющая конструкция if-then-else</h2>
<p>Для того, чтобы программа смогла сообщить и о результатах успешного поиска, и о неудаче, воспользуемся конструкцией <code>if-then-else</code>. Вот как она устроена:</p>
<div class="highlight"><pre><span></span><code>if команда
then
команды
else
команды
fi
</code></pre></div>
<p>Если первая команда возвратит ноль, что означает её успешное выполнение, условие окажется истинным и выполнение не пойдёт по ветке <code>else</code>. В противном случае, если будет возвращено что-то, отличающееся от нуля, что будет означать неудачу, или ложный результат, будут выполнены команды, расположенные после <code>else</code>.</p>
<p>Напишем такой скрипт:</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash
user=anotherUser
if grep $user /etc/passwd
then
echo &quot;The user $user Exists&quot;
else
echo &quot;The user $user doesn’t exist&quot;
fi
</code></pre></div>
<p>Его исполнение пошло по ветке <code>else</code>.</p>
<p><img alt="" src="https://habrastorage.org/getpro/habr/post_images/9db/c75/b3d/9dbc75b3dba2778a9aa9ff6b77677328.png" /></p>
<p><em>Запуск скрипта с конструкцией if-then-else</em></p>
<p>Ну что же, продолжаем двигаться дальше и зададимся вопросом о более сложных условиях. Что если надо проверить не одно условие, а несколько? Например, если нужный пользователь найден, надо вывести одно сообщение, если выполняется ещё какое-то условие — ещё одно сообщение, и так далее. В подобной ситуации нам помогут вложенные условия. Выглядит это так:</p>
<div class="highlight"><pre><span></span><code>if команда1
then
команды
elif команда2
then
команды
fi
</code></pre></div>
<p>Если первая команда вернёт ноль, что говорит о её успешном выполнении, выполнятся команды в первом блоке <code>then</code>, иначе, если первое условие окажется ложным, и если вторая команда вернёт ноль, выполнится второй блок кода.</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash
user=anotherUser
if grep $user /etc/passwd
then
echo &quot;The user $user Exists&quot;
elif ls /home
then
echo &quot;The user doesn’t exist but anyway there is a directory under /home&quot;
fi
</code></pre></div>
<p>В подобном скрипте можно, например, создавать нового пользователя с помощью команды <code>useradd</code>, если поиск не дал результатов, или делать ещё что-нибудь полезное.</p>
<h2 id="_8">Сравнение чисел</h2>
<p>В скриптах можно сравнивать числовые значения. Ниже приведён список соответствующих команд.</p>
<blockquote>
<p><code>n1 -eq n2</code>Возвращает истинное значение, если <code>n1</code> равно <code>n2</code>.<br />
<code>n1 -ge n2</code> Возвращает истинное значение, если <code>n1</code>больше или равно <code>n2</code>.<br />
<code>n1 -gt n2</code>Возвращает истинное значение, если <code>n1</code> больше <code>n2</code>.<br />
<code>n1 -le n2</code>Возвращает истинное значение, если <code>n1</code>меньше или равно <code>n2</code>.<br />
<code>n1 -lt n2</code>Возвращает истинное значение, если n1 меньше <code>n2</code>.<br />
<code>n1 -ne n2</code>Возвращает истинное значение, если <code>n1</code>не равно <code>n2</code>.</p>
</blockquote>
<p>В качестве примера опробуем один из операторов сравнения. Обратите внимание на то, что выражение заключено в квадратные скобки.</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash
val1=6
if [ $val1 -gt 5 ]
then
echo &quot;The test value $val1 is greater than 5&quot;
else
echo &quot;The test value $val1 is not greater than 5&quot;
fi
</code></pre></div>
<p>Вот что выведет эта команда.</p>
<p><img alt="" src="https://habrastorage.org/getpro/habr/post_images/bd8/509/59b/bd850959bf5385f0e3a3fa2173fb39a8.png" /></p>
<p><em>Сравнение чисел в скриптах</em></p>
<p>Значение переменной <code>val1</code>больше чем 5, в итоге выполняется ветвь <code>then</code>оператора сравнения и в консоль выводится соответствующее сообщение.</p>
<h2 id="_9">Сравнение строк</h2>
<p>В сценариях можно сравнивать и строковые значения. Операторы сравнения выглядят довольно просто, однако у операций сравнения строк есть определённые особенности, которых мы коснёмся ниже. Вот список операторов.</p>
<blockquote>
<p><code>str1 = str2</code> Проверяет строки на равенство, возвращает истину, если строки идентичны.<br />
s<code>tr1 != str2</code>Возвращает истину, если строки не идентичны.<br />
<code>str1 &lt; str2</code>Возвращает истину, если <code>str1</code>меньше, чем <code>str2</code>.<br />
<code>str1 &gt; str2</code> Возвращает истину, если <code>str1</code>больше, чем <code>str2</code>.<br />
<code>-n str1</code> Возвращает истину, если длина <code>str1</code>больше нуля.<br />
<code>-z str1</code>Возвращает истину, если длина <code>str1</code>равна нулю.</p>
</blockquote>
<p>Вот пример сравнения строк в сценарии:</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash
user =&quot;likegeeks&quot;
if [$user = $USER]
then
echo &quot;The user $user  is the current logged in user&quot;
fi
</code></pre></div>
<p>В результате выполнения скрипта получим следующее.</p>
<p><img alt="" src="https://habrastorage.org/getpro/habr/post_images/55c/79a/3f2/55c79a3f28c78c48bcb0560236e09f9c.png" /></p>
<p><em>Сравнение строк в скриптах</em></p>
<p>Вот одна особенность сравнения строк, о которой стоит упомянуть. А именно, операторы «&gt;» и «&lt;» необходимо экранировать с помощью обратной косой черты, иначе скрипт будет работать неправильно, хотя сообщений об ошибках и не появится. Скрипт интерпретирует знак «&gt;» как команду перенаправления вывода.</p>
<p>Вот как работа с этими операторами выглядит в коде:</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash
val1=text
val2=&quot;another text&quot;
if [ $val1 \&gt; $val2 ]
then
echo &quot;$val1 is greater than $val2&quot;
else
echo &quot;$val1 is less than $val2&quot;
fi
</code></pre></div>
<p>Вот результаты работы скрипта.</p>
<p><img alt="" src="https://habrastorage.org/getpro/habr/post_images/4cf/2c4/079/4cf2c4079e42367f9e061cfee547e6b0.png" /></p>
<p><em>Сравнение строк, выведенное предупреждение</em></p>
<p>Обратите внимание на то, что скрипт, хотя и выполняется, выдаёт предупреждение:</p>
<div class="highlight"><pre><span></span><code>./myscript: line 5: [: too many arguments
</code></pre></div>
<p>Для того, чтобы избавиться от этого предупреждения, заключим <code>$val2</code> в двойные кавычки:</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash
val1=text
val2=&quot;another text&quot;
if [ $val1 \&gt; &quot;$val2&quot; ]
then
echo &quot;$val1 is greater than $val2&quot;
else
echo &quot;$val1 is less than $val2&quot;
fi
</code></pre></div>
<p>Теперь всё работает как надо.</p>
<p><img alt="" src="https://habrastorage.org/getpro/habr/post_images/8e9/cd9/a8f/8e9cd9a8f743b7789841173671cfe26c.png" /></p>
<p><em>Сравнение строк</em></p>
<p>Ещё одна особенность операторов «&gt;» и «&lt;» заключается в том, как они работают с символами в верхнем и нижнем регистрах. Для того, чтобы понять эту особенность, подготовим текстовый файл с таким содержимым:</p>
<div class="highlight"><pre><span></span><code>Likegeeks
likegeeks
</code></pre></div>
<p>Сохраним его, дав имя <code>myfile</code>, после чего выполним в терминале такую команду:</p>
<div class="highlight"><pre><span></span><code>sort myfile
</code></pre></div>
<p>Она отсортирует строки из файла так:</p>
<div class="highlight"><pre><span></span><code>likegeeks
Likegeeks
</code></pre></div>
<p>Команда <code>sort</code>, по умолчанию, сортирует строки по возрастанию, то есть строчная буква в нашем примере меньше прописной. Теперь подготовим скрипт, который будет сравнивать те же строки:</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash
val1=Likegeeks
val2=likegeeks
if [ $val1 \&gt; $val2 ]
then
echo &quot;$val1 is greater than $val2&quot;
else
echo &quot;$val1 is less than $val2&quot;
fi
</code></pre></div>
<p>Если его запустить, окажется, что всё наоборот — строчная буква теперь больше прописной.</p>
<p><img alt="" src="https://habrastorage.org/getpro/habr/post_images/cca/c66/88c/ccac6688ceb2d01f4e906620c8c0244a.png" /></p>
<p><em>Команда sort и сравнение строк в файле сценария</em></p>
<p>В командах сравнения прописные буквы меньше строчных. Сравнение строк здесь выполняется путём сравнения ASCII-кодов символов, порядок сортировки, таким образом, зависит от кодов символов.</p>
<p>Команда <code>sort</code>, в свою очередь, использует порядок сортировки, заданный в настройках системного языка.</p>
<h2 id="_10">Проверки файлов</h2>
<p>Пожалуй, нижеприведённые команды используются в bash-скриптах чаще всего. Они позволяют проверять различные условия, касающиеся файлов. Вот список этих команд.</p>
<blockquote>
<p><code>-d file</code>Проверяет, существует ли файл, и является ли он директорией.<br />
<code>-e file</code>Проверяет, существует ли файл.<br />
<code>-f file</code> Проверяет, существует ли файл, и является ли он файлом.<br />
<code>-r file</code>Проверяет, существует ли файл, и доступен ли он для чтения.<br />
<code>-s file П</code>роверяет, существует ли файл, и не является ли он пустым.<br />
<code>-w file</code>Проверяет, существует ли файл, и доступен ли он для записи.<br />
<code>-x file</code>Проверяет, существует ли файл, и является ли он исполняемым.<br />
<code>file1 -nt file2</code> Проверяет, новее ли <code>file1</code>, чем <code>file2</code>.<br />
<code>file1 -ot file2</code>Проверяет, старше ли <code>file1</code>, чем <code>file2</code>.<br />
<code>-O file</code> Проверяет, существует ли файл, и является ли его владельцем текущий пользователь.<br />
<code>-G file</code>Проверяет, существует ли файл, и соответствует ли его идентификатор группы идентификатору группы текущего пользователя.</p>
</blockquote>
<p>Эти команды, как впрочем, и многие другие рассмотренные сегодня, несложно запомнить. Их имена, являясь сокращениями от различных слов, прямо указывают на выполняемые ими проверки.</p>
<p>Опробуем одну из команд на практике:</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash
mydir=/home/likegeeks
if [ -d $mydir ]
then
echo &quot;The $mydir directory exists&quot;
cd $ mydir
ls
else
echo &quot;The $mydir directory does not exist&quot;
fi
</code></pre></div>
<p>Этот скрипт, для существующей директории, выведет её содержимое.</p>
<p><img alt="" src="https://habrastorage.org/getpro/habr/post_images/ab2/2e2/0e7/ab22e20e730bb0c56cef8da5c8d31dba.png" /></p>
<p><em>Вывод содержимого директории</em></p>
<p>Полагаем, с остальными командами вы сможете поэкспериментировать самостоятельно, все они применяются по тому же принципу.</p>
<h2 id="_11">Итоги</h2>
<p>Сегодня мы рассказали о том, как приступить к написанию bash-скриптов и рассмотрели некоторые базовые вещи. На самом деле, тема bash-программирования огромна. Эта статья является переводом первой части большой серии из 11 материалов. Если вы хотите продолжения прямо сейчас — вот список оригиналов этих материалов. Для удобства сюда включён и тот, перевод которого вы только что прочли.</p>
<ol>
<li><a href="https://likegeeks.com/bash-script-easy-guide/">Bash Script Step By Step</a> — здесь речь идёт о том, как начать создание bash-скриптов, рассмотрено использование переменных, описаны условные конструкции, вычисления, сравнения чисел, строк, выяснение сведений о файлах.</li>
<li><a href="https://likegeeks.com/bash-scripting-step-step-part2/">Bash Scripting Part 2, Bash the awesome</a> — тут раскрываются особенности работы с циклами for и while.</li>
<li><a href="https://likegeeks.com/linux-bash-scripting-awesome-guide-part3/">Bash Scripting Part 3, Parameters &amp; options</a> — этот материал посвящён параметрам командной строки и ключам, которые можно передавать скриптам, работе с данными, которые вводит пользователь, и которые можно читать из файлов.</li>
<li><a href="https://likegeeks.com/shell-scripting-awesome-guide-part4/">Bash Scripting Part 4, Input &amp; Output</a> — здесь речь идёт о дескрипторах файлов и о работе с ними, о потоках ввода, вывода, ошибок, о перенаправлении вывода.</li>
<li><a href="https://likegeeks.com/linux-bash-scripting-awesome-guide-part5/">Bash Scripting Part 5, Sighals &amp; Jobs</a> — этот материал посвящён сигналам Linux, их обработке в скриптах, запуску сценариев по расписанию.</li>
<li><a href="https://likegeeks.com/bash-functions/">Bash Scripting Part 6, Functions</a> — тут можно узнать о создании и использовании функций в скриптах, о разработке библиотек.</li>
<li><a href="https://likegeeks.com/sed-linux/">Bash Scripting Part 7, Using sed</a> — эта статья посвящена работе с потоковым текстовым редактором sed.</li>
<li><a href="https://likegeeks.com/awk-command/">Bash Scripting Part 8, Using awk</a> — данный материал посвящён программированию на языке обработки данных awk.</li>
<li><a href="https://likegeeks.com/regex-tutorial-linux/">Bash Scripting Part 9, Regular Expressions</a> — тут можно почитать об использовании регулярных выражений в bash-скриптах.</li>
<li><a href="https://likegeeks.com/write-shell-script/">Bash Scripting Part 10, Practical Examples</a> — здесь приведены приёмы работы с сообщениями, которые можно отправлять пользователям, а так же методика мониторинга диска.</li>
<li><a href="https://likegeeks.com/expect-command/">Bash Scripting Part 11, Expect Command</a> — этот материал посвящён средству Expect, с помощью которого можно автоматизировать взаимодействие с интерактивными утилитами. В частности, здесь идёт речь об expect-скриптах и об их взаимодействии с bash-скриптами и другими программами.  </li>
</ol>
<p>Полагаем, одно из ценных свойств этой серии статей заключается в том, что она, начинаясь с самого простого, подходящего для пользователей любого уровня, постепенно ведёт к довольно серьёзным темам, давая шанс всем желающим продвинуться в деле создания сценариев командной строки Linux.</p>
<p>Уважаемые читатели! Просим гуру bash-программирования рассказать о том, как они добрались до вершин мастерства, поделиться секретами, а от тех, кто только что написал свой первый скрипт, ждём впечатлений.</p>
<p><a href="https://ruvds.com/ru-rub/#order"><img alt="" src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png" /></a></p>
<p>Только зарегистрированные пользователи могут участвовать в опросе. <a href="https://habr.com/ru/auth/login/">Войдите</a>, пожалуйста.</p>
<hr />
<p><a href="https://habr.com/ru/company/ruvds/blog/325522/">Source</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../Bash%20remove%20recursive%20by%20extension/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Bash remove recursive by extension
            </div>
          </div>
        </a>
      
      
        <a href="../Bash_%20Write%20to%20File/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Bash  Write to File
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/spetriuk" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://www.linkedin.com/in/serhii-petriuk/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.7353b375.min.js"></script>
      
    
  </body>
</html>